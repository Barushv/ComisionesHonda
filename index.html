<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HondaGo · Comisiones</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b0f14" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <link rel="icon" href="favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/io-192.png">
  <link rel="apple-touch-icon" href="assets/icons/io-192.png">

</head>

<body>
  <header class="topbar">
    <div class="brand">
      <img src="assets/icons/io-192.png" alt="IO" class="logo">
      <div>
        <h1>HondaGo · Comisiones</h1>
        <small id="currentMonth"></small>
      </div>
    </div>
    <div class="actions">
      <button id="addSaleBtn" class="btn primary">Registrar venta</button>
      <button id="shareBtn" class="btn">Exportar XLSX</button>
      <button id="clearAllBtn" class="btn">Limpiar todo</button>
      <button id="aboutBtn" class="btn">Acerca de</button>

    </div>
  </header>

  <main class="container">
    <section class="kpis">
      <div class="kpi"><span>Unidades</span><strong id="units">0</strong></div>
      <div class="kpi"><span>Tramo</span><strong id="tier">1-4</strong></div>
      <div class="kpi"><span>Q1 · Venta</span><strong id="baseTotal">$0</strong></div>
      <div class="kpi"><span>Q1 · Financ.</span><strong id="bonusTotal">$0</strong></div>
      <div class="kpi"><span>Q2 · Seguros</span><strong id="segurosTotal">$0</strong></div>
      <div class="kpi"><span>Q2 · Garantías</span><strong id="garantiasTotal">$0</strong></div>
      <div class="kpi"><span>Q2 · Acc 10%</span><strong id="accesoriosTotal">$0</strong></div>
      <div class="kpi"><span>Q2 · Incentivos</span><strong id="bonosExtraTotal">$0</strong></div>
      <div class="kpi total"><span>Total</span><strong id="grandTotal">$0</strong></div>
    </section>

    <section id="salesList" class="list"></section>
  </main>

  <!-- Diálogo Registrar/Editar -->
  <dialog id="saleDialog">
    <form id="saleForm" method="dialog">
      <h3 id="dlgTitle">Registrar / Editar venta</h3>

      <label>Vehículo / Versión</label>
      <input id="searchInput" type="text" placeholder="Buscar versión..." />
      <select id="versionSelect"></select>

      <div class="row">
        <label>Tipo</label>
        <div class="row-inline">
          <label><input type="radio" name="tipo" id="tipoCredito" checked> Crédito</label>
          <label><input type="radio" name="tipo" id="tipoContado"> Contado</label>
        </div>
      </div>

      <div class="row switch-row">
        <label><input type="checkbox" id="seguroSwitch"> Seguro</label>
        <select id="seguroYears">
          <option value="0">0 años</option>
          <option value="1">1 año</option>
          <option value="2">2 años</option>
          <option value="3">3 años</option>
          <option value="4">4 años</option>
          <option value="5">5 años</option>
          <option value="6">6 años</option>
        </select>
      </div>

      <div class="row switch-row">
        <label><input type="checkbox" id="garantiaSwitch"> Garantía extendida</label>
        <select id="garantiaYears">
          <option value="0">0 años</option>
          <option value="1">1 año</option>
          <option value="2">2 años</option>
          <option value="3">3 años</option>
          <option value="4">4 años</option>
        </select>
      </div>

      <label>Accesorios (MXN)</label>
      <input id="accesoriosVenta" type="number" min="0" inputmode="numeric" placeholder="0">

      <label>Incentivo adicional asesor (MXN)</label>
      <input id="bonoExtra" type="number" min="0" inputmode="numeric" placeholder="0">

      <div class="row switch-row">
        <label><input type="checkbox" id="demoSwitch"> Incentivo demo</label>
        <input id="bonoDemo" type="number" min="0" inputmode="numeric" placeholder="0">
      </div>

      <menu class="dialog-actions">
        <button type="button" class="btn">Cancelar</button>
        <button id="saveSaleBtn" class="btn primary" value="default">Guardar</button>
      </menu>
    </form>
  </dialog>

  <dialog id="aboutDialog">
    <article style="max-width:520px">
      <h3>Acerca de</h3>
      <p><strong>HondaGo · Comisiones</strong></p>
      <p>Desarrollador: <strong>Israel Ortiz (IO)</strong></p>
      <p>Contacto: <a href="mailto:tu.correo@dominio.com">fortiz.hondamontejo@gmail.com</a></p>
      <p>Versión: <span id="aboutVersion">1.0</span></p>
      <p>© 2025. Todos los derechos reservados.</p>
      <menu class="dialog-actions">
        <button class="btn" id="aboutCloseBtn">Cerrar</button>
      </menu>
    </article>
  </dialog>


  <script src="https://cdn.jsdelivr.net/npm/dexie@3.2.7/dist/dexie.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

  <script type="module" src="assets/js/store.js"></script>
  <script type="module" src="assets/js/calc.js"></script>
  <script type="module" src="assets/js/export.js"></script>
  <script type="module" src="assets/js/ui.js"></script>
  <script type="module" src="assets/js/app.js"></script>
</body>

</html>